:root{
  --bg-top: #081229;
  --bg-bottom: #04243f;
  --card: rgba(6, 16, 30, 0.86);
  --accent: #1e90ff;
  --accent2: #6ec6ff;
  --text: #e9f2ff;
  --muted: #9fb9d9;
  --glass: rgba(255,255,255,0.03);

  --shadow-accent: rgba(30,144,255,0.12);
  --shadow-accent-strong: rgba(30,144,255,0.18);
}

footer {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 14px 20px;
  background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.25)); /* полу-прозрачный фон, можно убрать */
  border-top: 1px solid var(--accent);
  z-index: 40;
  text-align: center;
  box-sizing: border-box;
  backdrop-filter: blur(6px);
}

/* Если .game-hint внутри футера — делаем компактным */
footer .game-hint {
  margin: 0 0 0 12px; /* если хотите подсказку справа от текста, или 0 для новой строки */
  font-size: 0.9rem;
  color: var(--accent2);
}

/* Защитный отступ у основного контента, чтобы footer не перекрывал текст */
main {
  padding-bottom: 84px; /* >= высоты footer, можно подкорректировать */
}

/* Reset / base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background: linear-gradient(180deg,var(--bg-top),var(--bg-bottom));color:var(--text);font-family:Inter, Roboto, Arial, sans-serif;-webkit-font-smoothing:antialiased;}
a{ color: var(--accent); text-decoration: none; transition: color .25s ease; }
a:hover{ color: var(--accent2); }

/* Canvas layers (visuals) */
#bloodCanvas,#bg,#gameCanvas{
  position:fixed; inset:0; width:100%; height:100%; pointer-events:none;
}
#bloodCanvas{ z-index:1; }
#bg{ z-index:2; filter: blur(.6px) saturate(1.05) contrast(1.02); mix-blend-mode:screen; transition: filter .6s ease; }
#bg:hover{ filter: blur(.2px) saturate(1.1) contrast(1.06); }

/* Readability */
body, h1,h2,h3,h4,p, .role, .lead, .muted, a, strong { text-shadow: 0 1px 2px rgba(0,0,0,0.5); }

/* Header / brand */
.site {display: flex;  align-items: center;  gap: 16px;  padding: 20px 28px;}
.brand {display: flex;  gap: 12px;  align-items: center;  flex: 0 0 auto;}
.logo{
  width:56px; height:56px; border-radius:50%; object-fit:cover;
  border:2px solid rgba(110,198,255,0.18);
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  box-shadow: 0 8px 28px rgba(30,144,255,0.14);
  transition: transform .35s ease, box-shadow .35s ease, filter .35s;
}
.logo:hover,.logo:focus{
  transform: scale(1.06) rotate(-3deg);
  box-shadow: 0 16px 60px rgba(30,144,255,0.22);
}
.role{font-size:.85rem;color:var(--muted)}

/* Navigation (pill style) */
/* nav is placed to the right */
.nav { display: flex;  gap: 12px;  align-items: center;  margin-left: auto;}
.nav-link{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 14px; border-radius:12px; font-weight:700;
  color:var(--text); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.04);
  box-shadow: 0 6px 20px rgba(2,6,18,0.28); text-decoration:none;
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
  -webkit-tap-highlight-color: transparent;
}
.nav-link:hover,.nav-link:focus{ transform: translateY(-3px); background: linear-gradient(90deg, rgba(30,144,255,0.06), rgba(110,198,255,0.03)); box-shadow: 0 14px 40px rgba(30,144,255,0.06); outline:none; }
.nav-link.active{
  background: linear-gradient(90deg, rgba(30,144,255,0.10), rgba(110,198,255,0.06));
  border-color: rgba(30,144,255,0.12);
  box-shadow: 0 12px 36px rgba(30,144,255,0.08);
  transform: translateY(-3px);
}

/* menu toggle: hidden by default (desktop), visible only on small screens */
.menu-toggle {
  display: none;
  background: none;
  border: none;
  padding: 8px;
  width: 44px;
  height: 44px;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* three bars: make them visible and blue */
.menu-toggle span {
  display: block;
  width: 20px;
  height: 2.5px;
  background: var(--accent2);
  border-radius: 2px;
  margin: 3px 0;
  transition: transform 220ms ease, opacity 220ms ease;
}

/* only show menu-toggle on narrow viewports */
@media (max-width: 900px) {
  .menu-toggle { display: flex; }
  .nav { /* mobile nav will be controlled by JS, default hidden off-canvas */
    position: fixed;
    top: 0;
    right: -100%;
    width: 70%;
    height: 100vh;
    background: rgba(10,10,10,0.95);
    flex-direction: column;
    padding: 80px 20px 20px;
    transition: right 0.36s ease;
    backdrop-filter: blur(10px);
    z-index: 90;
  }
  .nav.active { right: 0; }
}

/* remove accidental tiny default outlines and ensure clickable area is reasonable */
.menu-toggle:focus { outline: 3px solid rgba(30,144,255,0.12); outline-offset: 2px; border-radius: 8px; }

/* Main CTA buttons */
.btn{
  display:inline-flex; align-items:center; gap:10px;
  padding:10px 16px; border-radius:12px; font-weight:800;
  color:#031226; background: linear-gradient(90deg,var(--accent),var(--accent2));
  border:none; cursor:pointer; box-shadow: 0 10px 36px var(--shadow-accent);
  transition: transform .18s ease, box-shadow .18s ease;
}
.btn:hover,.btn:focus{ transform: translateY(-3px) scale(1.01); box-shadow: 0 18px 56px var(--shadow-accent-strong); outline:none; }

/* Ghost / secondary */
.btn-ghost{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px; border-radius:10px; font-weight:700;
  color:var(--text); background:transparent; border:1px solid rgba(255,255,255,0.06);
  transition: background .18s ease, transform .12s ease;
}
.btn-ghost:hover,.btn-ghost:focus{ transform: translateY(-3px); background: linear-gradient(90deg, rgba(30,144,255,0.06), rgba(110,198,255,0.03)); outline:none; }

/* No-copy utility: prevent selecting/copying button-like elements */
.no-copy,
.nav-link, .btn, .btn-ghost, .action-primary, .action-ghost {
  user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;
}
.nav-link:focus-visible, .btn:focus-visible, .btn-ghost:focus-visible { outline: 3px solid rgba(30,144,255,0.14); outline-offset:3px; border-radius:10px; }

/* Hero */
.hero{padding:72px 20px;max-width:1100px;margin:0 auto;display:flex;align-items:center;gap:28px}
.hero-left{flex:1}
.hero h2{font-size:2.4rem;margin:0}
.lead{color:var(--muted);max-width:70ch;margin-top:12px}
.hero-ctas{margin-top:18px;display:flex;gap:12px;align-items:center}

/* Sections & cards */
section{padding:48px 20px;max-width:1100px;margin:0 auto}
h3{margin-bottom:12px}
.card{
  background:var(--card); padding:14px; border-radius:10px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2); transition: transform .3s ease;
}
.card:hover{ transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }

/* Projects grid & cards */
.projects-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:18px; align-items:start;
}
.project-card{
  position:relative; overflow:hidden; border-radius:14px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.04); box-shadow: 0 8px 30px rgba(0,0,0,0.6);
  transition: transform .35s cubic-bezier(.2,.9,.2,1), box-shadow .35s, filter .35s;
}
.project-card::before{
  content:''; position:absolute; top:0; left:-100%; width:100%; height:100%;
  background: linear-gradient(90deg, transparent, rgba(30,144,255,0.12), transparent);
  transition: all .6s ease;
}
.project-card:hover::before{ left:100%; }
.project-card:hover{ transform: translateY(-10px) scale(1.02); box-shadow: 0 22px 60px rgba(30,144,255,0.12); filter: saturate(1.05) contrast(1.02); }

.project-media{ display:block; width:100%; height:160px; position:relative; overflow:hidden; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); }
.project-media img, .project-media video{ width:100%; height:100%; object-fit:cover; transition: transform .6s, filter .42s; }
.project-body{ padding:14px 16px 18px; display:flex; gap:12px; flex-direction:column; }
.project-title{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.project-title h4{ margin:0; font-size:1.05rem; }
.project-desc{ color:var(--muted); font-size:0.92rem; margin-top:6px; line-height:1.35; }
.project-tags{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
.tag{ font-size:.75rem; padding:6px 8px; border-radius:999px; background: rgba(255,255,255,0.03); color:var(--muted); border:1px solid rgba(255,255,255,0.02); }

/* project actions */
.project-actions{ display:flex; gap:8px; margin-top:8px; }
.action-primary{
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; font-weight:700;
  color:#031226; background: linear-gradient(90deg,var(--accent),var(--accent2)); border:none; text-decoration:none;
  transition: transform .16s ease, box-shadow .16s ease;
}
.action-primary:hover{ transform: translateY(-3px); box-shadow: 0 12px 36px rgba(30,144,255,0.12); }
.action-ghost{
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; font-weight:700;
  color:var(--muted); background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04);
}
.action-ghost:hover{ transform: translateY(-3px); background: rgba(255,255,255,0.04); color: var(--accent2); }

/* Code-card */
.code-card{
  background: linear-gradient(180deg, rgba(10,20,36,0.86), rgba(6,12,24,0.9));
  border:1px solid rgba(255,255,255,0.03); border-radius:12px; overflow:hidden; margin:14px 0;
  box-shadow: 0 12px 40px rgba(2,6,18,0.6); font-family: ui-monospace, Menlo, Monaco, "Roboto Mono", monospace;
}
.code-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 12px; background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-bottom:1px solid rgba(255,255,255,0.02); }
.code-meta{ display:flex; gap:10px; align-items:center; color:var(--muted); font-size:.92rem; }
.code-preview{ margin:0; padding:14px; overflow:auto; font-size:.95rem; line-height:1.45; background:transparent; color:var(--text); }
.code-editor-textarea{ width:100%; min-height:220px; padding:14px; border:none; resize:vertical; background: rgba(0,0,0,0.35); color:var(--text); }

/* reveal animation helper */
@keyframes fadeIn{ from{ opacity:0; transform: translateY(20px);} to{ opacity:1; transform:none;} }
section, .project-card{ opacity:0; transform: translateY(18px); transition: opacity .56s cubic-bezier(.2,.9,.2,1), transform .56s cubic-bezier(.2,.9,.2,1); }
.inview{ opacity:1 !important; transform:none !important; }

/* Game overlay */
.game-hint{ margin-top:10px; font-size:.8em; color:var(--accent2); animation: pulse 2s infinite; }
@keyframes pulse{ 0%{ opacity:.5;} 50%{ opacity:1; } 100%{ opacity:.5; } }
.game-overlay{ position:fixed; inset:0; display:none; z-index:60; justify-content:center; align-items:center; flex-direction:column; gap:14px; padding:20px; text-align:center; background: linear-gradient(180deg, rgba(0,0,0,0.85), rgba(0,0,0,0.7)); }
.game-overlay .controls{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }
.game-overlay button{ background:var(--accent); color:white; border:none; padding:10px 18px; border-radius:10px; font-weight:700; cursor:pointer; box-shadow: 0 8px 28px rgba(30,144,255,0.14); }

/* Slider -> Book (page flip) styles */
.book{ max-width:1100px; margin:18px auto; padding:0 10px; }
.book .pages{ position:relative; perspective:1600px; min-height:160px; }
.page{
  position:absolute; inset:0; width:100%; transform-origin:left center; transform-style:preserve-3d; backface-visibility:hidden;
  transition: transform .9s cubic-bezier(.2,.9,.2,1), opacity .3s ease; box-shadow: 0 10px 36px rgba(0,0,0,0.48);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03)); border-radius:12px; padding:20px;
  opacity:0; pointer-events:none;
}
.page.current{ transform: rotateY(0deg); opacity:1; z-index:5; pointer-events:auto; }
.page:not(.current){ transform: rotateY(180deg); opacity:0; }
.page.flipped{ transform: rotateY(-180deg); opacity:0; z-index:2; }

/* book controls */
.book-controls{ max-width:1100px; margin:12px auto 0; display:flex; align-items:center; justify-content:center; gap:12px; }
.book-arrow{ background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); color:var(--text); padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:700; }
.book-arrow:hover{ transform: translateY(-3px); box-shadow: 0 12px 36px rgba(30,144,255,0.08); }
.book-pager{ color:var(--muted); font-size:.95rem; min-width:160px; text-align:center; }

/* Accessibility / reduced motion */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important; }
  .page{ transition:none !important; transform:none !important; opacity:1 !important; position:relative; pointer-events:auto; }
}

/* Responsive tweaks */
@media(max-width:900px){
  .hero{flex-direction:column;text-align:center}
  .nav{display:none}
  .site{padding:14px}
  .page{ padding:14px; position:relative; transform:none; opacity:1; pointer-events:auto; }
}
@media(max-width:700px){
  .project-media{ height:140px; }
  .project-actions{ flex-wrap:wrap; }
  .nav-link, .btn, .btn-ghost{ padding:8px 10px; font-size:.95rem; }
}

/* Ensure projects visible if previously hidden */
.projects-grid{ display:grid !important; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:18px; align-items:start; }
.project-card{ display:block !important; visibility:visible !important; opacity:1 !important; transform:none !important; }

